FROM oven/bun:latest

WORKDIR /app

# Copy dependency files
COPY client/package.json client/bun.lock* ./

# Install dependencies
RUN bun install

# Copy source
COPY client/ .

# Build the app
RUN bun run build

# Expose the port
EXPOSE 5173

# Serve the built app
CMD ["bun", "vite", "preview", "--host", "--port", "5173"]